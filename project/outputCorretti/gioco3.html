<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Martian Grand Slam - Avventura Interattiva</title>
<style>
  body {
    background: #f9f9f9;
    color: #222;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
      Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    min-height: 100vh;
    flex-direction: column;
  }
  main {
    flex: 1;
    max-width: 720px;
    margin: 2rem auto;
    padding: 1rem 2rem 3rem 2rem;
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 0 12px rgba(0,0,0,0.1);
  }
  h1, h2 {
    color: #004d99;
    margin-top: 0;
  }
  p {
    line-height: 1.5;
    font-size: 1.1rem;
  }
  .choices {
    margin-top: 2rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  button {
    background: #007acc;
    border: none;
    color: white;
    padding: 0.75rem 1.25rem;
    font-size: 1rem;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    text-align: left;
  }
  button:hover, button:focus {
    background: #005f99;
    outline: none;
  }
  footer {
    text-align: center;
    padding: 1rem 0;
    font-size: 0.9rem;
    color: #666;
  }
  .dialogue {
    margin: 1rem 0 1.5rem 0;
    padding-left: 1rem;
    border-left: 3px solid #007acc;
    font-style: italic;
    color: #004d99;
  }
</style>
</head>
<body>
<main id="game-container" role="main" aria-live="polite" aria-atomic="true">
  <!-- Content generated by JS -->
</main>
<footer>Martian Grand Slam &mdash; Avventura Interattiva Sci-Fi</footer>
<script>
(() => {
  "use strict";

  // Game data: sections with narrative and choices
  const sections = {
    start: {
      title: "Martian Grand Slam",
      summary: `Sei Nova Racket, un giovane prodigio del tennis nato sulla Terra, appena arrivato alla stazione Olympus su Marte. Il tuo obiettivo è diventare il Campione Intergalattico di Tennis, affrontando sfide, avversari locali e tornei planetari fino alla finale sulla luna di Giove, Europa.`,
      choices: [
        { text: "Inizia l'avventura", next: "1" }
      ]
    },
    "1": {
      title: "Arrivo alla Stazione Olympus",
      text: `Sei appena arrivato alla stazione Olympus su Marte. Non hai ancora uno sponsor, il tuo equipaggiamento è obsoleto e i gruppi rivali bloccano l'accesso ai tornei. Si dice che il campione marziano, Vega Stratos, usi tecnologia illegale per migliorare le sue prestazioni.`,
      dialogue: [
        `"Benvenuto a Olympus Station, Nova. Sarà dura farsi strada qui."`
      ],
      choices: [
        { text: "Cerca di entrare nel torneo di qualificazione locale nonostante le rivalità", next: "2" },
        { text: "Cerca un venditore di tecnologia per aggiornare racchetta e tuta", next: "3" },
        { text: "Prova a fare amicizia con uno sponsor minore alla stazione", next: "4" }
      ]
    },
    "2": {
      title: "Tentativo di entrare nel torneo di qualificazione",
      text: `Ti sei registrato per il torneo di qualificazione, primo passo verso la lega marziana. I gruppi rivali sono ancora diffidenti e ostili. Il tuo equipaggiamento è ancora obsoleto e non hai sponsor.`,
      dialogue: [
        `"Se vuoi giocare qui, devi dimostrare di meritartelo."`
      ],
      choices: [
        { text: "Allenati intensamente per migliorare le tue abilità prima del torneo", next: "5" },
        { text: "Prova a negoziare l'ingresso dimostrando le tue capacità al capo del gruppo rivale", next: "6" }
      ]
    },
    "3": {
      title: "Ricerca di equipaggiamento aggiornato",
      text: `Hai trovato un venditore di tecnologia che offre racchetta e tuta high-tech, ma richiede pagamento o una sponsorizzazione.`,
      dialogue: [
        `"Se vuoi questo equipaggiamento, dovrai guadagnartelo o trovare uno sponsor."`
      ],
      choices: [
        { text: "Accetta la sfida del venditore per vincere l'equipaggiamento", next: "7" },
        { text: "Cerca uno sponsor per permetterti l'equipaggiamento", next: "4" }
      ]
    },
    "4": {
      title: "Ricerca di sponsorizzazioni",
      text: `Incontri due potenziali sponsor: Stellar Sports Corp, che richiede una dimostrazione di abilità, e Red Dust Energy, che preferisce l'influenza sociale.`,
      dialogue: [
        `"Dimostra di essere degno o conquista la loro fiducia con il tuo carisma."`
      ],
      choices: [
        { text: "Accetta la sfida di Stellar Sports Corp con una partita esibizione", next: "8" },
        { text: "Partecipa a un evento sociale per guadagnare il favore di Red Dust Energy", next: "9" }
      ]
    },
    "5": {
      title: "Allenamento prima del torneo di qualificazione",
      text: `Ti sei allenato intensamente e le tue abilità sono migliorate. I gruppi rivali sono ancora ostili, ma meno di prima.`,
      dialogue: [
        `"Non male, Nova. Forse hai una possibilità."`
      ],
      choices: [
        { text: "Partecipa al torneo di qualificazione con le abilità migliorate", next: "10" },
        { text: "Prova ad allearti con un giocatore rivale per entrare nel torneo", next: "11" }
      ]
    },
    "6": {
      title: "Negoziazione con il capo del gruppo rivale",
      text: `Il capo del gruppo rivale è impressionato dalla tua sicurezza, ma ti chiede un favore: vincere una partita laterale contro il loro sfidante.`,
      dialogue: [
        `"Se vinci questa partita, ti lasceremo entrare."`
      ],
      choices: [
        { text: "Accetta la sfida e gioca la partita laterale", next: "12" },
        { text: "Rifiuta e prova un altro metodo per entrare", next: "2" }
      ]
    },
    "7": {
      title: "Partita di sfida con il venditore",
      text: `La partita di sfida con il venditore è fissata. Se vinci, otterrai racchetta e tuta high-tech.`,
      dialogue: [
        `"Mostrami cosa sai fare, Nova."`
      ],
      choices: [
        { text: "Gioca e vinci la partita di sfida", next: "13" },
        { text: "Rifiuta e cerca uno sponsor", next: "4" }
      ]
    },
    "8": {
      title: "Partita esibizione per Stellar Sports Corp",
      text: `Hai l'opportunità di impressionare lo sponsor Stellar Sports Corp con una partita esibizione. Se vinci, otterrai la sponsorizzazione.`,
      dialogue: [
        `"Vinci questa e sarai nostro atleta."`
      ],
      choices: [
        { text: "Gioca e vinci la partita esibizione", next: "14" },
        { text: "Perdi intenzionalmente per guadagnare simpatia e negoziare", next: "15" }
      ]
    },
    "9": {
      title: "Evento sociale per Red Dust Energy",
      text: `Parteciperai a un evento sociale con figure influenti per guadagnare il favore di Red Dust Energy.`,
      dialogue: [
        `"Fai buona impressione, Nova."`
      ],
      choices: [
        { text: "Riesci a fare networking e ottenere la sponsorizzazione", next: "16" },
        { text: "Non riesci a impressionare, devi provare un altro sponsor", next: "4" }
      ]
    },
    "10": {
      title: "Partecipazione al torneo di qualificazione",
      text: `Stai competendo nel torneo di qualificazione. Il tuo equipaggiamento è ancora obsoleto.`,
      dialogue: [
        `"Dai il massimo, Nova!"`
      ],
      choices: [
        { text: "Vinci il torneo di qualificazione e accedi alla lega marziana", next: "17" },
        { text: "Perdi ma guadagni rispetto e accesso parziale", next: "18" }
      ]
    },
    "11": {
      title: "Alleanza con un giocatore rivale",
      text: `Un giocatore rivale accetta di aiutarti se condividi le risorse di allenamento. Il tuo equipaggiamento è ancora obsoleto.`,
      dialogue: [
        `"Lavoriamo insieme e ce la faremo."`
      ],
      choices: [
        { text: "Allenatevi insieme e partecipate al torneo di qualificazione", next: "10" },
        { text: "Rompi l'alleanza e prova a migliorare l'equipaggiamento", next: "3" }
      ]
    },
    "12": {
      title: "Partita laterale per il capo del gruppo rivale",
      text: `La partita laterale è in corso. Vincere ti garantirà l'ingresso al torneo e una certa protezione dai gruppi rivali.`,
      dialogue: [
        `"Questa è la tua occasione, Nova."`
      ],
      choices: [
        { text: "Vinci la partita laterale", next: "19" },
        { text: "Perdi la partita laterale", next: "2" }
      ]
    },
    "13": {
      title: "Vittoria nella partita di sfida con il venditore",
      text: `Hai vinto la partita di sfida e ottenuto racchetta e tuta high-tech. Non hai ancora sponsor.`,
      dialogue: [
        `"Ecco il tuo equipaggiamento, campione."`
      ],
      choices: [
        { text: "Partecipa al torneo di qualificazione con l'equipaggiamento aggiornato", next: "10" },
        { text: "Cerca sponsor per finanziare il viaggio agli Olympus Trials", next: "4" }
      ]
    },
    "14": {
      title: "Vittoria nella partita esibizione per Stellar Sports Corp",
      text: `Hai ottenuto il primo sponsor: Stellar Sports Corp. Il tuo equipaggiamento è ancora obsoleto o parzialmente aggiornato se hai vinto la sfida del venditore.`,
      dialogue: [
        `"Benvenuto nella nostra squadra, Nova."`
      ],
      choices: [
        { text: "Usa la sponsorizzazione per aggiornare completamente l'equipaggiamento", next: "20" },
        { text: "Partecipa al torneo Olympus Trials", next: "21" }
      ]
    },
    "15": {
      title: "Perdita intenzionale nella partita esibizione",
      text: `Lo sponsor è comprensivo ma diffidente. Non hai ottenuto la sponsorizzazione.`,
      dialogue: [
        `"Non è il modo giusto, Nova. Prova qualcos'altro."`
      ],
      choices: [
        { text: "Prova l'evento sociale per Red Dust Energy", next: "9" },
        { text: "Prova la partita di sfida con il venditore", next: "7" }
      ]
    },
    "16": {
      title: "Ottenimento della sponsorizzazione Red Dust Energy",
      text: `Hai ottenuto il secondo sponsor: Red Dust Energy. Con Stellar Sports Corp, le sponsorizzazioni sono assicurate.`,
      dialogue: [
        `"Siamo con te, Nova."`
      ],
      choices: [
        { text: "Aggiorna completamente l'equipaggiamento", next: "20" },
        { text: "Partecipa al torneo Olympus Trials", next: "21" }
      ]
    },
    "17": {
      title: "Vittoria nel torneo di qualificazione",
      text: `Sei ufficialmente classificato ed eleggibile per la lega marziana. Il tuo equipaggiamento potrebbe essere ancora obsoleto o parzialmente aggiornato.`,
      dialogue: [
        `"Complimenti, sei dentro!"`
      ],
      choices: [
        { text: "Partecipa al torneo Olympus Trials", next: "21" },
        { text: "Cerca di scoprire le voci sul cheating di Vega", next: "22" }
      ]
    },
    "18": {
      title: "Sconfitta nel torneo di qualificazione ma guadagno rispetto",
      text: `Hai ottenuto accesso parziale alla lega. I gruppi rivali sono meno ostili. Non hai ancora ranking.`,
      dialogue: [
        `"Non è finita, Nova. Continua a lottare."`
      ],
      choices: [
        { text: "Prova a migliorare l'equipaggiamento", next: "3" },
        { text: "Cerca sponsorizzazioni per migliorare la tua posizione", next: "4" }
      ]
    },
    "19": {
      title: "Vittoria nella partita laterale per il capo del gruppo rivale",
      text: `I gruppi rivali accettano la tua entrata nel torneo di qualificazione. Il tuo equipaggiamento è ancora obsoleto.`,
      dialogue: [
        `"Ora sei uno di noi, almeno in parte."`
      ],
      choices: [
        { text: "Partecipa al torneo di qualificazione", next: "10" },
        { text: "Cerca di migliorare l'equipaggiamento", next: "3" }
      ]
    },
    "20": {
      title: "Aggiornamento completo dell'equipaggiamento",
      text: `Sei equipaggiato con racchetta e tuta high-tech adattate alla bassa gravità. Hai due sponsor assicurati.`,
      dialogue: [
        `"Ora sei pronto per la vera sfida."`
      ],
      choices: [
        { text: "Partecipa al torneo Olympus Trials", next: "21" }
      ]
    },
    "21": {
      title: "Partecipazione al torneo Olympus Trials",
      text: `Stai competendo agli Olympus Trials contro i migliori giocatori marziani, incluso Vega Stratos. Il tuo equipaggiamento è aggiornato e hai il supporto degli sponsor.`,
      dialogue: [
        `"Questa è la partita che conta, Nova."`
      ],
      choices: [
        { text: "Vinci gli Olympus Trials e qualificati per la finale su Europa", next: "23" },
        { text: "Perdi ma raccogli prove del cheating di Vega", next: "22" }
      ]
    },
    "22": {
      title: "Indagine sul cheating di Vega",
      text: `Hai scoperto prove dell'uso di tecnologia illegale da parte di Vega. La tua reputazione migliora tra rivali e sponsor.`,
      dialogue: [
        `"Ora hai qualcosa di concreto."`
      ],
      choices: [
        { text: "Presenta le prove agli ufficiali ITL prima della finale degli Olympus Trials", next: "24" },
        { text: "Affronta direttamente Vega in partita", next: "23" }
      ]
    },
    "23": {
      title: "Finale degli Olympus Trials",
      text: `Stai affrontando Vega in una partita a gravità zero su Marte. Il tuo equipaggiamento è aggiornato e hai il supporto degli sponsor.`,
      dialogue: [
        `"È il momento della verità."`
      ],
      choices: [
        { text: "Vinci la partita e qualificati per il Grand Slam su Europa", next: "25" },
        { text: "Perdi ma usa il filmato per smascherare Vega", next: "22" }
      ]
    },
    "24": {
      title: "Presentazione delle prove agli ufficiali ITL",
      text: `Vega viene squalificato o penalizzato. Il tuo cammino verso il Grand Slam su Europa è libero e supportato ufficialmente.`,
      dialogue: [
        `"Giustizia è fatta."`
      ],
      choices: [
        { text: "Preparati per la finale del Grand Slam su Europa", next: "25" }
      ]
    },
    "25": {
      title: "Finale del Grand Slam su Europa",
      text: `Stai affrontando il campione in carica nell'arena di gravità zero su Europa. Sei completamente equipaggiato, con sponsor e reputazione forte.`,
      dialogue: [
        `"Questa è la sfida finale, Nova."`
      ],
      choices: [
        { text: "Vinci la partita finale e diventa Campione Intergalattico di Tennis", next: "26" },
        { text: "Perdi la partita finale ma guadagni rispetto e opportunità future", next: "27" }
      ]
    },
    "26": {
      title: "Nova incoronato Campione Intergalattico di Tennis",
      text: `Hai sconfitto il campione in carica nell'arena di Europa e sei stato incoronato Campione Intergalattico di Tennis. Il tuo sogno è realizzato.`,
      dialogue: [
        `"Sei il migliore dell'intera galassia, Nova!"`
      ],
      choices: [
        { text: "Gioca di nuovo", next: "start" }
      ]
    },
    "27": {
      title: "Nova perde la finale ma guadagna rispetto",
      text: `Hai perso la partita finale ma hai guadagnato rispetto e sponsorizzazioni. Il tuo futuro nella ITL è promettente.`,
      dialogue: [
        `"Non è la fine, ma solo l'inizio."`
      ],
      choices: [
        { text: "Gioca di nuovo", next: "start" }
      ]
    }
  };

  // Game state
  let currentSection = "start";

  // DOM references
  const container = document.getElementById("game-container");

  // Render function
  function renderSection(id) {
    currentSection = id;
    const section = sections[id];
    container.innerHTML = "";

    if (id === "start") {
      const h1 = document.createElement("h1");
      h1.textContent = section.title;
      container.appendChild(h1);

      const pSummary = document.createElement("p");
      pSummary.textContent = section.summary;
      container.appendChild(pSummary);

      const startBtn = document.createElement("button");
      startBtn.textContent = section.choices[0].text;
      startBtn.setAttribute("aria-label", "Inizia il gioco");
      startBtn.addEventListener("click", () => renderSection(section.choices[0].next));
      container.appendChild(startBtn);
      return;
    }

    // Title
    const h2 = document.createElement("h2");
    h2.textContent = section.title;
    container.appendChild(h2);

    // Narrative text
    if (section.text) {
      const pText = document.createElement("p");
      pText.textContent = section.text;
      container.appendChild(pText);
    }

    // Dialogue lines
    if (section.dialogue && section.dialogue.length > 0) {
      section.dialogue.forEach(line => {
        const divDialogue = document.createElement("div");
        divDialogue.className = "dialogue";
        divDialogue.textContent = line;
        container.appendChild(divDialogue);
      });
    }

    // Choices buttons
    if (section.choices && section.choices.length > 0) {
      const divChoices = document.createElement("div");
      divChoices.className = "choices";
      section.choices.forEach(choice => {
        const btn = document.createElement("button");
        btn.textContent = choice.text;
        btn.setAttribute("aria-label", choice.text);
        btn.addEventListener("click", () => renderSection(choice.next));
        divChoices.appendChild(btn);
      });
      container.appendChild(divChoices);
    }
  }

  // Initialize game
  renderSection(currentSection);
})();
</script>
</body>
</html>